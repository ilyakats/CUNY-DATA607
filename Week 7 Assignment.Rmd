---
title: "DATA 607 Week 7 Assignment: HTML, XML, JSON Parsing"
author: "Ilya Kats"
date: "March 18, 2017"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<STYLE>
table {
    border: 1px solid black;
}
th {
    background-color: rgb(112, 196, 105);
    color: white;
    font-weight: bold;
    padding: 20px 30px;
}
tr:nth-child(even) {
    background-color: rgb(220,220,220);
}
tr:nth-child(odd) {
    background-color: rgb(255, 255, 255);
}
</STYLE>

## Required Libraries

```{r requirements, results='hide', message=FALSE}
library(stringr)
library(XML)
library(RCurl)
library(RJSONIO)
```

## Data Import: HTML

```{r}
htmlFile <- getURL("https://raw.githubusercontent.com/ilyakats/CUNY-DATA607/master/books.html")
booksHTML <- readHTMLTable(htmlFile, header = TRUE)
```

## Data Import: XML

```{r}
xmlFile <- getURL("https://raw.githubusercontent.com/ilyakats/CUNY-DATA607/master/books.xml")
booksXML <- xmlParse(xmlFile, validate = TRUE)
```

## Data Import: JSON

```{r}
jsonFile <- getURL("https://raw.githubusercontent.com/ilyakats/CUNY-DATA607/master/books.json", .encoding = "Windows-1252")

jsonFile %>% 
  enter_object("scifi_books") %>% 
  gather_array() %>% 
  spread_values(title = jstring("title"), 
                author = jstring("author"),
                year = jnumber("year"), 
                isbn = jstring("isbn")) %>% 
  enter_object("film") %>% 
  gather_array() %>% 
  spread_values(filmtitle = jstring("name"))
  
# Load file
books <- fromJSON("https://raw.githubusercontent.com/ilyakats/CUNY-DATA607/master/books.json")
```

## Conclusion

TBD